<p align="center">
  <a href="https://github.com/atlas-foundry/poml-go-sdk/actions/workflows/ci.yml">
    <img src="https://github.com/atlas-foundry/poml-go-sdk/actions/workflows/ci.yml/badge.svg" alt="CI Status" />
  </a>
  <a href="https://codecov.io/gh/atlas-foundry/poml-go-sdk">
    <img src="https://codecov.io/gh/atlas-foundry/poml-go-sdk/branch/main/graph/badge.svg" alt="Coverage" />
  </a>
  <a href="https://github.com/atlas-foundry/poml-go-sdk/releases">
    <img src="https://img.shields.io/github/v/release/atlas-foundry/poml-go-sdk?logo=github&color=4c1" alt="Release" />
  </a>
  <a href="https://pkg.go.dev/github.com/atlas-foundry/poml-go-sdk">
    <img src="https://pkg.go.dev/badge/github.com/atlas-foundry/poml-go-sdk.svg" alt="Go Reference" />
  </a>
  <a href="https://goreportcard.com/report/github.com/atlas-foundry/poml-go-sdk">
    <img src="https://goreportcard.com/badge/github.com/atlas-foundry/poml-go-sdk" alt="Go Report Card" />
  </a>
  <a href="https://microsoft.github.io/poml">
    <img src="https://img.shields.io/badge/POML-Supported-8a2be2.svg?logo=microsoft" alt="POML Supported" />
  </a>
  <a href="https://www.conventionalcommits.org/">
    <img src="https://img.shields.io/badge/Conventional%20Commits-1.0.0-ff69b4.svg" alt="Conventional Commits" />
  </a>
</p>

# âœ¨ poml-go-sdk

A delightful Go SDK for **POML â€” Prompt Orchestration Markup Language**.
We speak POML natively, faithfully, and with a little spark of fun âœ¨

> **Note:** This repo uses POML for all docs.
> The only non-POML doc allowed is this `README.mdx`.

* Full structured README: `README.poml`
* Delivery plan: `PLAN.poml`
* AI log: `AI.LOCK.poml`
* Fit-for-purpose plan: `docs/fit_for_purpose.poml`
* Agent rules: `AGENTS.poml`
* Multimedia examples: `poml/testdata/examples/*`

---

## ğŸ’– What is POML?

POML is a structured, spec-driven language for orchestrating AI prompts.

Itâ€™s:

* declarative
* expressive
* type-safe
* multi-modal
* and *way* nicer to maintain than a giant prompt blob

This SDK brings POMLâ€™s power to Go.

---

## ğŸš€ Quick Start

```bash
go test ./...
```

or use the parser:

```go
doc, err := poml.ParseFile("story.poml")
if err != nil {
    panic(err)
}

if err := poml.Validate(doc); err != nil {
    panic(err)
}

output, _ := poml.Render(doc)
fmt.Println(output)
```

---

## ğŸ Features

* Fully spec-aligned parser
* Semantic validator
* Renderer + transformations
* Round-trip fidelity for extended tags (`<hint>`, `<example>`, `<cp>`, `<object>`, `<tool>`)
* Safety features (symlink-aware BaseDir checks, 10MB cap defaults, override options)
* Strong test suite with example parity checks
* Elegant, friendly API

---

## ğŸ’œ Contributors Welcome!

This project lives because amazing humans contribute to it.
And we want *you* here too â€” whether youâ€™re:

* new to Go
* new to POML
* new to open source

Open a PR, file an issue, add test cases, tweak docs ğŸ’«

---

## ğŸ¨ Conventional Commits Cheat Sheet

```
feat: add something new âœ¨
fix: squish a bug ğŸ›
docs: improve docs ğŸ“˜
chore: misc tasks ğŸ§¹
test: add/modify tests ğŸ§ª
ci: workflow updates âš™ï¸
refactor: structural changes ğŸ§ 
```

Breaking changes:

```
feat!: something major changed
```

---

## ğŸ§± Project Structure

```
poml/
  parser.go
  renderer.go
  tools/
  testdata/
docs/
.github/
```

Everything important is discoverable and documented inside POML files.

---

## ğŸ›¡ï¸ Media & Safety Rules

Converters enforce:

* BaseDir containment
* Optional absolute path allowance
* 10MB default caps for image/audio/video (override via ConvertOptions)
* Proper emission across formats

---

## ğŸ“š Want to Explore the Spec?

POML official site:
ğŸ‘‰ [https://microsoft.github.io/poml](https://microsoft.github.io/poml)

---

## ğŸ“œ License

MIT â€” do cool things, responsibly.

---

## ğŸŒŸ Final Thought

If youâ€™re thinking â€œShould I open a PR?â€ the answer is YES.
Letâ€™s build something wonderful together âœ¨ğŸ’–





# poml-go-sdk

This repo uses POML for all docs. The only non-POML doc allowed is this `README.mdx` so GitHub renders a landing page.

- Full structured README: `README.poml`
- Delivery plan: `PLAN.poml`
- AI log: `AI.LOCK.poml`
- Fit-for-purpose plan: `docs/fit_for_purpose.poml`
- Agent rules: `AGENTS.poml`
- Multimedia parity fixtures: `poml/testdata/examples/207_multimedia.poml` and goldens

## Rules for contributors and agents

- Do **not** add markdown/org/mdx files besides this `README.mdx`.
- Author docs in POML (`*.poml`) using extended tags (hint/example/cp/object/list/etc.).
- Keep new instructions in `AGENTS.poml` to stay discoverable for small-context agents.
- When adding docs, link them from this README.mdx if they are high-signal.
- Media rules: converters enforce BaseDir containment, default 10MB caps for image/audio/video (override via MaxImageBytes/MaxMediaBytes), and emit multimedia across formats.

## Quick start

```bash
go test ./...
```

Converters honor `ConvertOptions{BaseDir, AllowAbsImagePaths, MaxImageBytes}` with symlink-aware containment and a 10MB default cap. Extended tags like `<hint>`, `<example>`, `<cp>`, `<object>`, and `<tool>` round-trip and emit user content across formats.
